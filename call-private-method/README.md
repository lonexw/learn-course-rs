ä»¥è¿™ä¸ªåœºæ™¯ä¸ºä¾‹:

> ä¸¾ä¸ªä¾‹å­ï¼šå‡è®¾æœ‰ä¸€ä¸ªåŒ…ï¼Œå…¬å¼€å‡½æ•°æ˜¯æ¥å—ä¸¤ä¸ªåœ°åï¼Œç„¶åè¿”å›ä¸¤ä¸ªåœ°åä¹‹é—´çš„ç›´çº¿è·ç¦»ã€‚å…·ä½“å®ç°æ˜¯ï¼šå…¬å¼€å‡½æ•°æ¥å—ä¸¤ä¸ªåœ°åï¼Œç„¶åè°ƒç”¨ä¸€ä¸ªç§æœ‰å‡½æ•°å°†ä¸¤ä¸ªåœ°åè½¬æ¢ä¸ºç»çº¬åº¦ï¼Œç„¶åè°ƒç”¨å¦ä¸€ä¸ªç§æœ‰å‡½æ•°è®¡ç®—ä¸¤ä¸ªç»çº¬åº¦ä¹‹é—´çš„è·ç¦»ã€‚
> å¦‚ä½•å»ç›´æ¥è°ƒç”¨è¿™ä¸ªç§æœ‰å‡½æ•°

ç®€å•å®ç°ä»£ç ï¼š

```rust
pub mod map {
    pub fn calc_distance(_start_place: &str, _end_place: &str) -> f32 {
        // TODO è½¬æ¢åœ°åä¸ºç»çº¬åº¦

        // æ–¹ä¾¿æ¼”ç¤ºå°±ä¸ä¼ å‚æ•°å•¦
        inner_calc_distance()
    }

    fn inner_calc_distance() -> f32 {
        println!("Call inner private function!");

        0.0
    }
}
```

æˆ‘ä»¬ç”¨ä¸‹é¢çš„é»‘ç§‘æŠ€å»ç›´æ¥è°ƒç”¨åŒ…çš„å†…éƒ¨ç§æœ‰å‡½æ•°ï¼š

```rust
fn main() {
    unsafe {
        std::mem::transmute::<usize, fn()>(
            // è¿™é‡Œå°±æ˜¯é­”æ³• ğŸª„ å‘ç”Ÿçš„åœ°æ–¹
            (map::calc_distance("åŒ—æ", "å—æ") as usize) + 4314503456
        );
    }
}

# ç¨‹åºè¿è¡Œæ‰“å°ç»“æœï¼š
Running `target/debug/call-private-method`
Call inner private function!
```

æ˜¯ä¸æ˜¯å¾ˆå¥½å¥‡ï¼Œtransmute çš„è§£é‡Šï¼Œçœ‹ä¸€ä¸‹ä½œè€…çš„æ–‡ç« ï¼šç±»å‹è½¬æ¢, ä½†æ˜¯è¿™ä¸²æ•°å­— 4314503456 æ˜¯ä»€ä¹ˆé¬¼ ğŸ¢ï¼Œè§£é‡Šä¸€ä¸‹ï¼š

1. æˆ‘ä»¬é¦–å…ˆå°†å…¬å¼€çš„æ–¹æ³• calc_distance è½¬æ¢æˆäº† usize ç±»å‹ï¼›
2. ç„¶ååŠ ä¸Šè¿™ä¸²ç¥ç§˜æ•°å­—ï¼Œå‡½æ•°åœ¨å†…å­˜ä¸­è°ƒç”¨è¿™ä¸ªå†…éƒ¨å‡½æ•°çš„ä½ç½®ï¼›
3. å†é€šè¿‡ std::mem::transmute å°†å¾—åˆ°çš„æ•°å­—è½¬æ¢ä¸ºå‡½æ•°æ‰§è¡Œï¼›

é€»è¾‘ä¸å¤æ‚ï¼Œä½†æ˜¯è¿™ä¸²æ•°å­—æ€ä¹ˆè·å–ï¼Ÿæˆ‘ä»¬éœ€è¦ä¸´æ—¶ä¿®æ”¹ä¸€ä¸‹åŒ…çš„ä»£ç ï¼ŒæŠŠå†…éƒ¨æ–¹æ³•å…ˆæ”¹ä¸º pub , å†ç”¨ dbg! å®æ‰“å°è®¡ç®—ç»“æœå°±å¯ä»¥æ‹¿åˆ°ï¼ˆå‚æ•°å˜åŒ–ä¹Ÿä¼šå½±å“å†…å­˜ä½ç½®çš„ç»“æœï¼‰ï¼š

```rust
    pub fn inner_calc_distance() -> f32 {
        println!("Call inner private function!");

        0.0
    }

fn main() {
    dbg!((map::inner_calc_distance as usize) - (map::calc_distance("åŒ—æ", "å—æ") as usize));
}
```

æœ€åï¼Œè¿™ç§æŠ€å·§ä¸´æ—¶ hack å¯ä»¥ï¼Œé¡¹ç›®æ…ç”¨ã€‚